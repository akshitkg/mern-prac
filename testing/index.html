<!DOCTYPE html>
<html>
  <body>
    <h1>The XMLHttpRequest Object</h1>

    <input type="number" value="number" id="id" />
    <input type="text" value="name" id="name" />
    <button onclick="loadDoc()">Copy text</button>
    <p id="demo"></p>

    <script>
      function loadDoc() {
        var id = document.getElementById("id");
        var name = document.getElementById("name");
        id = id.value;
        name = name.value;
        {
          {
            console.log(id);
            console.log(name);
          }
        }

        const xhr = new XMLHttpRequest();
        xhr.open("POST", "http://localhost:3000/books", false);

        var data = {
          id: id,
          name: name,
        };

        var json = JSON.stringify(data);

        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.setRequestHeader("Access-Control-Allow-Origin", "*");


        xhr.send(json);

        var z = xhr.responseText;
        var token = JSON.parse(z);
        console.log(z);

        navigator.clipboard.writeText(token.token);
      }
    </script>
  </body>
</html>
